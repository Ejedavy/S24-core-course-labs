# Lab 13: Kubernetes StatefulSet
```shell
davideje@Davids-MacBook-Pro k8s % kubectl get po                                                      
NAME                           READY   STATUS    RESTARTS   AGE
app-python-helm-app-python-0   1/1     Running   0          51s
app-python-helm-app-python-1   1/1     Running   0          47s
```


```shell
davideje@Davids-MacBook-Pro k8s % kubectl get po,sts,svc,pvc                                                                 
NAME                               READY   STATUS    RESTARTS   AGE
pod/app-python-helm-app-python-0   1/1     Running   0          109s
pod/app-python-helm-app-python-1   1/1     Running   0          105s

NAME                                          READY   AGE
statefulset.apps/app-python-helm-app-python   2/2     109s

NAME                                 TYPE           CLUSTER-IP       EXTERNAL-IP   PORT(S)          AGE
service/app-python-helm-app-python   LoadBalancer   10.111.229.120   <pending>     8000:31313/TCP   109s
service/kubernetes                   ClusterIP      10.96.0.1        <none>        443/TCP          13d

NAME                                                        STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   AGE
persistentvolumeclaim/mydata-app-python-helm-app-python-0   Bound    pvc-2f796fa9-074c-4a67-9034-aacd925426b9   1Gi        RWO            standard       109s
persistentvolumeclaim/mydata-app-python-helm-app-python-1   Bound    pvc-28ad70a8-33c7-4fb5-b7b4-00c7b8a91857   1Gi        RWO            standard       105s
```


```shell
davideje@Davids-MacBook-Pro k8s % minikube service app-python-helm-app-python
|-----------|----------------------------|-------------|---------------------------|
| NAMESPACE |            NAME            | TARGET PORT |            URL            |
|-----------|----------------------------|-------------|---------------------------|
| default   | app-python-helm-app-python | http/8000   | http://192.168.49.2:31313 |
|-----------|----------------------------|-------------|---------------------------|
üèÉ  Starting tunnel for service app-python-helm-app-python.
|-----------|----------------------------|-------------|------------------------|
| NAMESPACE |            NAME            | TARGET PORT |          URL           |
|-----------|----------------------------|-------------|------------------------|
| default   | app-python-helm-app-python |             | http://127.0.0.1:54187 |
|-----------|----------------------------|-------------|------------------------|
üéâ  Opening service default/app-python-helm-app-python in default browser...
‚ùó  Because you are using a Docker driver on darwin, the terminal needs to be open to run it.
```

[![image.png](https://i.postimg.cc/zB0pMySb/image.png)](https://postimg.cc/S2YWYNPk)


```shell
davideje@Davids-MacBook-Pro S24-core-course-labs % kubectl exec pod/app-python-helm-app-python-0 -- cat visits/visits.txt
147     
```

```shell
davideje@Davids-MacBook-Pro S24-core-course-labs % kubectl exec pod/app-python-helm-app-python-1 -- cat visits/visits.txt
159    
```

## Describe and explain differences in the report.
The numbers are different because each pod has its own state.

## Explain why ordering guarantees are unnecessary for your app.
The apps we have are independent of each other meaning that no data is shared between them, so we can scale the replicas without dependency on ordering guarantees.
